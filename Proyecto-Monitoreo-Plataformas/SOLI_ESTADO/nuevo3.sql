UNOEE
CEVPUNOEE
REDDI
PROMOINVE


expdp \'/ as sysdba\' DUMPFILE=UNOEE.DMP LOGFILE=UNOEE.LOG CONTENT=ALL EXCLUDE=STATISTICS DIRECTORY=EXP_DUMP SCHEMAS=UNOEE FILESIZE=5G


nohup expdp \'/ as sysdba\' DUMPFILE=CEVPUNOEE.DMP,REDDI.DMP,PROMOINVE.DMP LOGFILE=export_log.log CONTENT=ALL EXCLUDE=STATISTICS DIRECTORY=EXP_DUMP SCHEMAS=CEVPUNOEE,REDDI,PROMOINVE FILESIZE=5G &


CREATE DIRECTORY EXP_DUMP AS '/Backup/ERP' ;
GRANT READ, WRITE ON DIRECTORY EXP_DUMP TO SYSTEM ;



nohup impdp system/ZSbooyioUkE1tlFT3NY2 DUMPFILE=EXPDP_UNOEE_2025-01-24_0120_01.DMP EXPDP_UNOEE_2025-01-24_0120_02.DMP logfile=impUNOEE_2025_01_27.log directory=EXP_DUMP schemas=UNOEE &


CREATE TABLESPACE "UNOEE" DATAFILE '/Data/ERPEXO/ERPEXO/datafile/unoee01.dbf' SIZE 34357641216 AUTOEXTEND ON NEXT 8192 MAXSIZE 32767M,'/Data/ERPEXO/ERPEXO/datafile/unoee02.dbf' SIZE 33325842432 AUTOEXTEND ON NEXT 8192 MAXSIZE 32767M LOGGING ONLINE PERMANENT BLOCKSIZE 8192 EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO ALTER DATABASE DATAFILE '/Data/ERPEXO/ERPEXO/datafile/unoee02.dbf' RESIZE 10737418240 ;




CREATE TABLESPACE "UNOEE_IDX" 
    DATAFILE '/Data/ERPEXO/ERPEXO/datafile/unoee_idx01.dbf' 
    SIZE 21474836480 
    AUTOEXTEND ON NEXT 8192 MAXSIZE 32767M 
    LOGGING 
    ONLINE 
    PERMANENT 
    BLOCKSIZE 8192
    EXTENT MANAGEMENT LOCAL 
    AUTOALLOCATE 
    DEFAULT NOCOMPRESS 
    SEGMENT SPACE MANAGEMENT AUTO;



CREATE PROFILE APLICACIONES LIMIT
    COMPOSITE_LIMIT UNLIMITED
    SESSIONS_PER_USER UNLIMITED
    CPU_PER_SESSION UNLIMITED
    CPU_PER_CALL UNLIMITED
    LOGICAL_READS_PER_SESSION UNLIMITED
    LOGICAL_READS_PER_CALL UNLIMITED
    IDLE_TIME 1800
    CONNECT_TIME 120
    PRIVATE_SGA UNLIMITED
    FAILED_LOGIN_ATTEMPTS UNLIMITED
    PASSWORD_LIFE_TIME UNLIMITED
    PASSWORD_REUSE_TIME UNLIMITED
    PASSWORD_REUSE_MAX UNLIMITED
    PASSWORD_VERIFY_FUNCTION NULL
    PASSWORD_LOCK_TIME UNLIMITED
    PASSWORD_GRACE_TIME UNLIMITED;
	
	
	
	
CREATE TEMPORARY TABLESPACE "UNOEE_TEMP" TEMPFILE 
  '/Data/ERPEXO/ERPEXO/datafile//unoee_temp01.dbf' SIZE 5368709120
  AUTOEXTEND ON NEXT 8192 MAXSIZE 32767M
  EXTENT MANAGEMENT LOCAL UNIFORM SIZE 1048576



   CREATE USER "UNOEE" IDENTIFIED BY VALUES 'S:E01F2034D0E15019A3BA0EADE081B2838860CFA57F0B0E340EF17EE86795;D38A7E2BFB4F8FBE'
      DEFAULT TABLESPACE "UNOEE"
      TEMPORARY TABLESPACE "UNOEE_TEMP"
      PROFILE "APLICACIONES" ;

   GRANT "CONNECT" TO "UNOEE" ;
   GRANT "RESOURCE" TO "UNOEE" ;
   GRANT "SELECT_CATALOG_ROLE" TO "UNOEE" ;
   GRANT "SIESA_EE" TO "UNOEE" ;

   ALTER USER "UNOEE" DEFAULT ROLE "CONNECT", "RESOURCE", "SELECT_CATALOG_ROLE" ;

  GRANT CREATE EXTERNAL JOB TO "UNOEE" ;
  GRANT MANAGE SCHEDULER TO "UNOEE" WITH ADMIN OPTION ;
  GRANT CREATE JOB TO "UNOEE";
  GRANT DEBUG CONNECT SESSION TO "UNOEE";
  GRANT SELECT ANY DICTIONARY TO "UNOEE";
  GRANT DROP ANY DIRECTORY TO "UNOEE";
  GRANT CREATE ANY DIRECTORY TO "UNOEE";
  GRANT CREATE ANY MATERIALIZED VIEW TO "UNOEE";
  GRANT ALTER ANY TRIGGER TO "UNOEE";
  GRANT CREATE ANY PROCEDURE TO "UNOEE";
  GRANT CREATE ROLE TO "UNOEE";
  GRANT CREATE DATABASE LINK TO "UNOEE";
  GRANT CREATE ANY SEQUENCE TO "UNOEE";
  GRANT CREATE ANY VIEW TO "UNOEE" WITH ADMIN OPTION;
  GRANT CREATE ANY SYNONYM TO "UNOEE";
  GRANT CREATE SYNONYM TO "UNOEE";
  GRANT SELECT ANY TABLE TO "UNOEE";
  GRANT CREATE ANY TABLE TO "UNOEE";
  GRANT CREATE TABLE TO "UNOEE";
  GRANT UNLIMITED TABLESPACE TO "UNOEE";
  GRANT ALTER SESSION TO "UNOEE";

  DECLARE 
  TEMP_COUNT NUMBER; 
  SQLSTR VARCHAR2(200); 
BEGIN 
  SQLSTR := 'ALTER USER "UNOEE" QUOTA UNLIMITED ON "UNOEE"';
  EXECUTE IMMEDIATE SQLSTR;
EXCEPTION 
  WHEN OTHERS THEN
    IF SQLCODE = -30041 THEN 
      SQLSTR := 'SELECT COUNT(*) FROM USER_TABLESPACES 
              WHERE TABLESPACE_NAME = ''UNOEE'' AND CONTENTS = ''TEMPORARY''';
      EXECUTE IMMEDIATE SQLSTR INTO TEMP_COUNT;
      IF TEMP_COUNT = 1 THEN RETURN; 
      ELSE RAISE; 
      END IF;
    ELSE
      RAISE;
    END IF;
END;
  DECLARE 
  TEMP_COUNT NUMBER; 
  SQLSTR VARCHAR2(200); 
BEGIN 
  SQLSTR := 'ALTER USER "UNOEE" QUOTA UNLIMITED ON "UNOEE_IDX"';
  EXECUTE IMMEDIATE SQLSTR;
EXCEPTION 
  WHEN OTHERS THEN
    IF SQLCODE = -30041 THEN 
      SQLSTR := 'SELECT COUNT(*) FROM USER_TABLESPACES 
              WHERE TABLESPACE_NAME = ''UNOEE_IDX'' AND CONTENTS = ''TEMPORARY''';
      EXECUTE IMMEDIATE SQLSTR INTO TEMP_COUNT;
      IF TEMP_COUNT = 1 THEN RETURN; 
      ELSE RAISE; 
      END IF;
    ELSE
      RAISE;
    END IF;
END;

